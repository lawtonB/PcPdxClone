@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model IEnumerable<Microsoft.AspNet.Identity.EntityFramework.IdentityRole>


<h2>Roles Listing </h2>

@*@Html.ActionLink("Create New Role", "Create")*@
<a href="#" class="addRoleCreate">Add new Role</a>
<div id="showRoleCreate"></div>

@*@Html.ActionLink("Manage User Role", "ManageUserRoles")*@
<a href="#" class="addManage">Manage User Roles</a>
<div id="showManage"></div>
<hr />
<div>
    @foreach (var role in Model)
    {
        <p>
            <strong>@role.Name | </strong>
            <span onclick="return confirm('Are you sure to delete?')"><a href="/Roles/Delete?RoleName=@role.Name" class="delLink" style="color:red;">Delete</a></span>
        </p>
    }
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $('.addRoleCreate').click(function () {
            $.ajax({
                type: 'GET',
                dataType: 'html',
                url: "Roles/Create",
                success: function (result) {
                    $('#showRoleCreate').html(result);
                }
            })
        })

        $('.addManage').click(function () {
            $.ajax({
                type: 'GET',
                dataType: 'html',
                url: "Roles/ManageUserRoles",
                success: function (result) {
                    $('#showManage').html(result);
                }
            })
        })
    })
</script>